/* GraceChords UIKit-inspired layout kit */

.gc-page-header{
  padding: var(--space-4) 0;
}
.gc-page-header__main{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: var(--space-4);
  flex-wrap: wrap;
}
.gc-page-header__text{ min-width: 0; }
.gc-page-header__title{
  margin:0;
  font-size: var(--gc-font-title);
  font-weight: var(--gc-weight-title);
  line-height: var(--gc-lh-title);
}
.gc-page-header__subtitle{
  margin: var(--space-1) 0 0 0;
  font-size: var(--gc-font-sub);
  font-weight: var(--gc-weight-sub);
  line-height: var(--gc-lh-sub);
  color: var(--gc-text-secondary);
}
.gc-page-header__actions{
  display:flex;
  align-items:center;
  gap: var(--space-2);
  flex-wrap: wrap;
}
@media (max-width: 640px){
  .gc-page-header__actions{ width: 100%; justify-content: flex-start; }
}

/* Buttons */
.gc-btn{
  position: relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: var(--gc-btn-gap);
  min-height: var(--gc-control-h);
  padding: var(--gc-btn-pad-y) var(--gc-btn-pad-x);
  border-radius: var(--radius-md);
  border:1px solid var(--gc-separator);
  background: var(--gc-surface-2);
  color: var(--gc-text);
  font-family: var(--gc-font-family);
  font-weight:600;
  font-size: var(--gc-btn-font-size);
  line-height: 1;
  cursor:pointer;
  text-decoration:none;
  transition: background-color var(--gc-dur-quick) var(--gc-ease), border-color var(--gc-dur-quick) var(--gc-ease), color var(--gc-dur-quick) var(--gc-ease), box-shadow var(--gc-dur-quick) var(--gc-ease);
}
.gc-btn__content{
  display:inline-flex;
  align-items:center;
  gap: var(--space-2);
}
.gc-btn__icon{ display:inline-flex; align-items:center; }
.gc-btn__icon svg{ width: var(--gc-btn-icon-size); height: var(--gc-btn-icon-size); }
.gc-btn__spinner{
  position:absolute;
  inset: 0;
  margin:auto;
  width:16px;
  height:16px;
  border-radius:50%;
  border:2px solid currentColor;
  border-right-color: transparent;
  animation: gc-spin 0.8s linear infinite;
}
.gc-btn.is-loading .gc-btn__content{ opacity:0; }

.gc-btn:hover{ background: var(--gc-surface-3); }
.gc-btn:focus-visible{
  outline: var(--gc-focus-size) solid var(--gc-primary);
  outline-offset: var(--gc-focus-offset);
}
.gc-btn:disabled,
.gc-btn[aria-disabled="true"]{
  opacity:0.6;
  cursor:not-allowed;
  pointer-events:none;
}

.gc-btn--primary{
  background: var(--gc-primary);
  border-color: var(--gc-primary);
  color: var(--primary-text);
}
.gc-btn--primary:hover{
  background: color-mix(in srgb, var(--gc-primary) 88%, #000);
  border-color: color-mix(in srgb, var(--gc-primary) 88%, #000);
}
.gc-btn--secondary{
  background: var(--gc-surface-2);
  color: var(--gc-text);
}
.gc-btn--tertiary{
  background: var(--gc-surface-1);
  color: var(--gc-text);
}
.gc-btn--tertiary:hover{ background: var(--gc-surface-2); }
.gc-btn--ghost{
  background: transparent;
  border-color: transparent;
  color: var(--gc-primary);
}
.gc-btn--ghost:hover{ background: color-mix(in srgb, var(--gc-primary) 10%, transparent); }
.gc-btn--destructive{
  background: var(--gc-surface-2);
  color: var(--gc-danger);
  border-color: color-mix(in srgb, var(--gc-danger) 55%, var(--gc-separator));
}
.gc-btn--destructive:hover{
  background: color-mix(in srgb, var(--gc-danger) 12%, var(--gc-surface-2));
}

.gc-btn--sm{ padding: var(--gc-btn-pad-y-sm) var(--gc-btn-pad-x-sm); font-size: var(--gc-btn-font-size-sm); }
.gc-btn--md{ padding: var(--gc-btn-pad-y) var(--gc-btn-pad-x); font-size: var(--gc-btn-font-size); }
.gc-btn--lg{ padding: var(--gc-btn-pad-y-lg) var(--gc-btn-pad-x-lg); font-size: var(--gc-btn-font-size-lg); }
.gc-btn--icon,
.gc-btn--iconOnly{
  gap: 0;
  padding: var(--gc-btn-icon-pad);
  min-width: var(--gc-control-h);
  min-height: var(--gc-control-h);
}
.gc-btn--full{ width: 100%; }

.gc-card,
.gc-inset-card{
  border:1px solid var(--gc-separator);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  background: var(--gc-surface-1);
  color: var(--gc-text);
  box-shadow: none;
  transition: background-color var(--gc-dur) var(--gc-ease), border-color var(--gc-dur) var(--gc-ease), box-shadow var(--gc-dur) var(--gc-ease);
}
.gc-inset-card{
  background: var(--gc-surface-2);
}
.gc-card:hover{
  background: var(--gc-surface-1) !important;
  box-shadow: none !important;
  transform: none !important;
}
.gc-card.gc-song-card:hover{
  background: var(--gc-surface-2) !important;
  box-shadow: var(--gc-shadow-1) !important;
}
.gc-inset-card:hover{
  background: var(--gc-surface-2) !important;
  box-shadow: none !important;
  transform: none !important;
}
.gc-card__title{
  font-size: var(--gc-font-h2);
  font-weight: var(--gc-weight-h2);
  line-height: var(--gc-lh-h2);
}
.gc-card__meta{
  color: var(--gc-text-secondary);
  font-size: var(--gc-font-sub);
}

.gc-toolbar{
  position: relative;
  top: auto;
  z-index: auto;
  display:flex;
  align-items:center;
  gap: var(--space-2);
  flex-wrap: wrap;
  padding: var(--space-2) var(--space-3);
  background: var(--gc-surface-1);
  border:1px solid var(--gc-separator);
  border-radius: var(--radius-lg);
}
.gc-toolbar.is-sticky{
  position: sticky;
  top: 0;
  z-index: 50;
  backdrop-filter: saturate(180%) blur(8px);
}
.gc-toolbar__group{ display:flex; align-items:center; gap: var(--space-2); flex-wrap: wrap; }
.gc-toolbar__actions{ margin-left:auto; display:flex; align-items:center; gap: var(--space-2); flex-wrap: wrap; }

.gc-segmented{
  display:inline-flex;
  align-items:center;
  gap: 2px;
  padding: 2px;
  border-radius: var(--radius-pill);
  background: var(--gc-surface-2);
  border:1px solid var(--gc-separator);
  min-height: var(--gc-control-h);
}
.gc-segmented__item{
  border:0;
  background: transparent;
  color: var(--gc-text-secondary);
  padding: 6px 12px;
  min-height: calc(var(--gc-control-h) - 4px);
  border-radius: var(--radius-pill);
  font-size: var(--gc-font-sub);
  line-height: var(--gc-lh-sub);
  cursor: pointer;
  transition: background-color var(--gc-dur-quick) var(--gc-ease), color var(--gc-dur-quick) var(--gc-ease);
}
.gc-segmented__item.is-selected{
  background: var(--gc-surface-1);
  color: var(--gc-primary);
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--gc-primary) 35%, var(--gc-separator));
}

[data-theme="dark"] .gc-segmented__item{
  color: color-mix(in srgb, var(--gc-text) 70%, var(--gc-text-secondary));
}
.gc-segmented__item:focus-visible{
  outline: var(--gc-focus-size) solid var(--gc-primary);
  outline-offset: var(--gc-focus-offset);
}

.gc-chip{
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: var(--radius-pill);
  border:1px solid var(--gc-separator);
  background: var(--gc-surface-2);
  color: var(--gc-text-secondary);
  font-size: var(--gc-font-sub);
  line-height: var(--gc-lh-sub);
  min-height: var(--gc-control-h);
}
.gc-chip--filter{ cursor: pointer; }
.gc-chip--tag{ background: var(--gc-surface-2); }
.gc-chip.is-selected{
  background: var(--gc-surface-1);
  color: var(--gc-primary);
  border-color: color-mix(in srgb, var(--gc-primary) 55%, var(--gc-separator));
}
.gc-chip--success{
  color: var(--gc-success);
  border-color: color-mix(in srgb, var(--gc-success) 55%, var(--gc-separator));
  background: color-mix(in srgb, var(--gc-success) 10%, var(--gc-surface-2));
}
.gc-chip--indigo{
  color: var(--gc-indigo);
  border-color: color-mix(in srgb, var(--gc-indigo) 55%, var(--gc-separator));
  background: color-mix(in srgb, var(--gc-indigo) 10%, var(--gc-surface-2));
}
.gc-chip--warning{
  color: var(--gc-warning);
  border-color: color-mix(in srgb, var(--gc-warning) 55%, var(--gc-separator));
  background: color-mix(in srgb, var(--gc-warning) 10%, var(--gc-surface-2));
}
.gc-chip--danger{
  color: var(--gc-danger);
  border-color: color-mix(in srgb, var(--gc-danger) 55%, var(--gc-separator));
  background: color-mix(in srgb, var(--gc-danger) 10%, var(--gc-surface-2));
}
.gc-chip:focus-visible{
  outline: var(--gc-focus-size) solid var(--gc-primary);
  outline-offset: var(--gc-focus-offset);
}

.gc-field{
  display:flex;
  flex-direction:column;
  gap: var(--space-1);
}
.gc-field__label{
  font-size: var(--gc-font-sub);
  font-weight: var(--gc-weight-sub);
  color: var(--gc-text-secondary);
}
.gc-field__control{
  display:flex;
  align-items:center;
  gap: var(--space-2);
}
.gc-field__help{
  font-size: var(--gc-font-cap);
  color: var(--gc-text-tertiary);
}
.gc-field__error{
  font-size: var(--gc-font-cap);
  color: var(--gc-danger);
}

.gc-iconbtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 0;
}
.gc-iconbtn svg{ width: var(--gc-btn-icon-size); height: var(--gc-btn-icon-size); }
.gc-iconbtn--primary{ color: var(--primary-text); }
.gc-iconbtn--destructive,
.gc-iconbtn--danger{ color: var(--gc-danger); }
.gc-iconbtn--ghost{ color: var(--gc-primary); }

[data-theme="dark"] .gc-chip{
  background: color-mix(in srgb, var(--gc-surface-2) 75%, var(--gc-surface-3));
  color: color-mix(in srgb, var(--gc-text) 70%, var(--gc-text-secondary));
  border-color: color-mix(in srgb, var(--gc-separator) 80%, var(--gc-surface-3));
}
[data-theme="dark"] .gc-chip--filter.is-selected{
  background: var(--gc-primary);
  color: var(--primary-text);
  border-color: var(--gc-primary);
}

@media (max-width: 640px){
  .gc-btn{ min-height: var(--gc-control-h-mobile); }
  .gc-btn--icon,
  .gc-btn--iconOnly{ min-width: var(--gc-control-h-mobile); min-height: var(--gc-control-h-mobile); }
  .gc-segmented{ min-height: var(--gc-control-h-mobile); }
  .gc-segmented__item{ min-height: calc(var(--gc-control-h-mobile) - 4px); }
  .gc-chip{ min-height: var(--gc-control-h-mobile); }
}

.gc-mobile-pane-tabs{
  display:none;
}

@media (max-width: 900px){
  .gc-mobile-pane-tabs{
    display:flex;
    width:100%;
    margin: 8px 0 6px;
  }
  .gc-mobile-pane-tabs .gc-segmented{
    width:100%;
  }
  .gc-mobile-pane-tabs .gc-segmented__item{
    flex:1 1 0;
    justify-content:center;
  }
}

.gc-mobile-dock{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: var(--gc-mobile-dock-z);
  background: color-mix(in srgb, var(--gc-surface-1) 94%, transparent);
  border-top: 1px solid var(--gc-separator);
  box-shadow: 0 -2px 10px rgba(0,0,0,.15);
  backdrop-filter: saturate(160%) blur(8px);
  padding: var(--space-2) var(--space-3) calc(var(--space-2) + var(--safe-b));
  transition: opacity var(--gc-dur-quick) var(--gc-ease);
}
.gc-mobile-dock.is-dimmed{
  opacity: var(--gc-mobile-dim-opacity);
}
.gc-mobile-dock__inner{
  display:flex;
  align-items:center;
  gap: var(--space-2);
  min-width:0;
}

.gc-mobile-actionsheet{
  position: fixed;
  inset: 0;
  z-index: var(--gc-mobile-sheet-z);
  display: flex;
  align-items: flex-end;
  justify-content: stretch;
}
.gc-mobile-actionsheet__overlay{
  position:absolute;
  inset:0;
  border:0;
  background: var(--gc-overlay);
  backdrop-filter: blur(6px);
}
.gc-mobile-actionsheet__panel{
  position: relative;
  width: 100%;
  max-height: min(78dvh, 620px);
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  border: 1px solid var(--gc-separator);
  border-bottom: 0;
  background: var(--gc-surface-1);
  padding: var(--space-2) var(--space-3) calc(var(--space-4) + var(--safe-b));
  display:flex;
  flex-direction:column;
  gap: var(--space-2);
  overflow: hidden;
}
.gc-mobile-actionsheet__grab{
  width: 44px;
  height: 4px;
  border-radius: 999px;
  margin: 0 auto 2px;
  background: color-mix(in srgb, var(--gc-text-secondary) 36%, transparent);
}
.gc-mobile-actionsheet__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: var(--space-2);
}
.gc-mobile-actionsheet__title{
  font-size: var(--gc-font-body);
}
.gc-mobile-actionsheet__body{
  overflow:auto;
  -webkit-overflow-scrolling: touch;
}
.gc-mobile-actions{
  display:grid;
  gap: var(--space-2);
}

.gc-overflow-safe{
  min-width: 0;
  overflow-x: hidden;
}

@keyframes gc-spin{
  to { transform: rotate(360deg); }
}

@media (prefers-reduced-motion: reduce){
  .gc-btn__spinner{ animation-duration: 0ms; }
}
