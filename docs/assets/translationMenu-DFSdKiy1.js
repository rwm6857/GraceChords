function p(n,r){const e=new Map;for(const t of n||[]){const a=u(t.language),l=e.get(a);if(l){l.translations.push(t);continue}e.set(a,{languageCode:a,languageLabel:c(a),translations:[t]})}const o=Array.from(e.values());for(const t of o)t.translations.sort((a,l)=>i(a).localeCompare(i(l),void 0,{sensitivity:"base"}));return o.sort((t,a)=>t.languageLabel.localeCompare(a.languageLabel,void 0,{sensitivity:"base"})),o}function i(n){const r=String(n?.label||n?.id||"").trim(),e=String(n?.name||"").trim();return e?!r||s(e)===s(r)||e.includes(`(${r})`)?e:`${e} (${r})`:r||String(n?.id||"").toUpperCase()}function u(n){return String(n||"").trim().toLowerCase().replace(/_/g,"-")||"und"}function c(n,r){const e=g(),o=f(n,e);return o||(n==="und"?"Unknown":n.split("-").map(t=>t.toUpperCase()).join("-"))}function g(){try{if(typeof navigator<"u"&&navigator.language)return navigator.language}catch{}return"en"}function f(n,r){try{if(typeof Intl>"u"||typeof Intl.DisplayNames!="function")return null;const e=new Intl.DisplayNames([r],{type:"language"}),o=e.of(n);if(o&&o.toLowerCase()!==n.toLowerCase())return o;const t=n.split("-")[0];if(!t||t===n)return null;const a=e.of(t);return a&&a.toLowerCase()!==t.toLowerCase()?a:null}catch{return null}}function s(n){return String(n||"").toLowerCase().replace(/[^a-z0-9]/g,"")}export{p as b,i as t};
