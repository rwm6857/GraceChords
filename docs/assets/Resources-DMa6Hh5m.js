import{r as c,F as v,p as w,j as e,ao as C,L as S,f as b}from"./index-BtaN8B5L.js";import _ from"./resources-CLu-NFdq.js";import{a as N}from"./markdown-CnzcVNz0.js";const d="https://gracechords.com",T=`${d}/favicon.ico`,u="Resources — Guides, Tutorials, and Tools | GraceChords",g="Guides, tutorials, and worship resources for teams and believers. Search by topic and tags, and read posts with practical tips from GraceChords.";function M(){const a=c.useMemo(()=>(_?.items||[]).slice().sort((s,t)=>(t.date||"").localeCompare(s.date||"")),[]),i=c.useMemo(()=>{const s=new Set;for(const t of a)(t.tags||[]).forEach(o=>s.add(String(o)));return Array.from(s).sort((t,o)=>t.localeCompare(o))},[a]),[r,x]=c.useState(""),[l,m]=c.useState(""),p=c.useMemo(()=>new v(a,{keys:["title","summary"],threshold:.35}),[a]),[n,y]=c.useState({});c.useEffect(()=>{!r||Object.keys(n).length||(async()=>{const s={};for(const t of a)try{const j=(await(await fetch(w(`resources/${t.slug}.md`))).text()).replace(/^---[\s\S]*?---\n?/,"");s[t.slug]=N(j)}catch{}y(s)})()},[r,a,n]);const f=c.useMemo(()=>{let s=r?p.search(r).map(t=>t.item):a;if(r&&s.length===0&&Object.keys(n).length){const t=r.toLowerCase();s=a.filter(o=>(n[o.slug]||"").toLowerCase().includes(t))}return l&&(s=s.filter(t=>(t.tags||[]).includes(l))),s},[r,l,p,a,n]);return e.jsxs("div",{className:"HomePage",children:[e.jsxs(C,{children:[e.jsx("title",{children:u}),e.jsx("meta",{name:"description",content:g}),e.jsx("meta",{name:"keywords",content:"worship resources, worship tutorials, guides, church tech, GraceChords resources"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:u}),e.jsx("meta",{property:"og:description",content:g}),e.jsx("meta",{property:"og:url",content:`${d}/resources`}),e.jsx("meta",{property:"og:site_name",content:"GraceChords"}),e.jsx("meta",{property:"og:image",content:T}),e.jsx("link",{rel:"canonical",href:`${d}/resources`})]}),e.jsxs("div",{className:"HomeHeader",children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:e.jsx("h1",{children:"Resources"})}),e.jsxs("div",{className:"card",style:{display:"grid",gap:10},children:[e.jsx("input",{placeholder:"Search resources...",value:r,onChange:s=>x(s.target.value),"aria-label":"Search resources",style:{minWidth:0,fontSize:16}}),e.jsx("div",{className:"row",style:{gap:8,alignItems:"center"},children:e.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[e.jsx(h,{label:"All",active:!l,onClick:()=>m("")}),i.map(s=>e.jsx(h,{label:s,active:l===s,onClick:()=>m(s)},s))]})})]})]}),e.jsx("div",{className:"HomeResults",role:"region","aria-label":"Resource results",children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:12,marginTop:16},children:f.map(s=>e.jsxs("article",{className:"gc-card",style:{flexDirection:"column",gap:8},children:[e.jsx("h3",{className:"gc-card__title",style:{margin:"4px 0"},children:e.jsx(S,{to:`/resources/${s.slug}`,children:s.title})}),e.jsxs("div",{className:"gc-card__meta Small",style:{opacity:.8},children:["by ",s.author," • ",E(s.date)]}),s.tags?.length?e.jsx("div",{className:"gc-card__tags Small",style:{display:"flex",gap:6,flexWrap:"wrap"},children:s.tags.map(t=>e.jsx("span",{className:"gc-tag gc-tag--gray",children:t},t))}):null,s.summary?e.jsx("p",{style:{margin:"4px 0 0 0"},children:s.summary}):null]},s.slug))})})]})}function h({label:a,active:i,onClick:r}){return e.jsx(b,{variant:"filter",selected:i,onClick:r,children:a})}function E(a){try{return new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return a}}export{M as default};
