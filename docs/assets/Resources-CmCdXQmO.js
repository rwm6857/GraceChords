import{r as c,z as w,F as v,j as e,D as b,L as C}from"./index-Crqpp_7C.js";import{s as S}from"./markdown-C16qQ7Y6.js";const d="https://gracechords.com",N=`${d}/favicon.ico`,p="Resources — Guides, Tutorials, and Tools | GraceChords",g="Guides, tutorials, and worship resources for teams and believers. Search by topic and tags, and read posts with practical tips from GraceChords.";function R(){const a=c.useMemo(()=>(w?.items||[]).slice().sort((s,t)=>(t.date||"").localeCompare(s.date||"")),[]),i=c.useMemo(()=>{const s=new Set;for(const t of a)(t.tags||[]).forEach(o=>s.add(String(o)));return Array.from(s).sort((t,o)=>t.localeCompare(o))},[a]),[r,x]=c.useState(""),[n,m]=c.useState(""),u=c.useMemo(()=>new v(a,{keys:["title","summary"],threshold:.35}),[a]),[l,y]=c.useState({});c.useEffect(()=>{!r||Object.keys(l).length||(async()=>{const s={};for(const t of a)try{const o="./".replace(/\/+$/,"")+"/",j=(await(await fetch(`${o}resources/${t.slug}.md`)).text()).replace(/^---[\s\S]*?---\n?/,"");s[t.slug]=S(j)}catch{}y(s)})()},[r,a,l]);const f=c.useMemo(()=>{let s=r?u.search(r).map(t=>t.item):a;if(r&&s.length===0&&Object.keys(l).length){const t=r.toLowerCase();s=a.filter(o=>(l[o.slug]||"").toLowerCase().includes(t))}return n&&(s=s.filter(t=>(t.tags||[]).includes(n))),s},[r,n,u,a,l]);return e.jsxs("div",{className:"HomePage",children:[e.jsxs(b,{children:[e.jsx("title",{children:p}),e.jsx("meta",{name:"description",content:g}),e.jsx("meta",{name:"keywords",content:"worship resources, worship tutorials, guides, church tech, GraceChords resources"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:p}),e.jsx("meta",{property:"og:description",content:g}),e.jsx("meta",{property:"og:url",content:`${d}/?view=resources`}),e.jsx("meta",{property:"og:site_name",content:"GraceChords"}),e.jsx("meta",{property:"og:image",content:N}),e.jsx("link",{rel:"canonical",href:`${d}/?view=resources`})]}),e.jsxs("div",{className:"HomeHeader",children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:e.jsx("h1",{children:"Resources"})}),e.jsxs("div",{className:"card",style:{display:"grid",gap:10},children:[e.jsx("input",{placeholder:"Search resources...",value:r,onChange:s=>x(s.target.value),"aria-label":"Search resources",style:{minWidth:0,fontSize:16}}),e.jsx("div",{className:"row",style:{gap:8,alignItems:"center"},children:e.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[e.jsx(h,{label:"All",active:!n,onClick:()=>m("")}),i.map(s=>e.jsx(h,{label:s,active:n===s,onClick:()=>m(s)},s))]})})]})]}),e.jsx("div",{className:"HomeResults",role:"region","aria-label":"Resource results",children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:12,marginTop:12},children:f.map(s=>e.jsxs("article",{className:"gc-card",style:{flexDirection:"column",gap:8},children:[e.jsx("h3",{className:"gc-card__title",style:{margin:"4px 0"},children:e.jsx(C,{to:`/resources/${s.slug}`,children:s.title})}),e.jsxs("div",{className:"gc-card__meta Small",style:{opacity:.8},children:["by ",s.author," • ",_(s.date)]}),s.tags?.length?e.jsx("div",{className:"gc-card__tags Small",style:{display:"flex",gap:6,flexWrap:"wrap"},children:s.tags.map(t=>e.jsx("span",{className:"gc-tag gc-tag--gray",children:t},t))}):null,s.summary?e.jsx("p",{style:{margin:"4px 0 0 0"},children:s.summary}):null]},s.slug))})})]})}function h({label:a,active:i,onClick:r}){return e.jsx("button",{className:`gc-tag ${i?"gc-tag--blue":"gc-tag--gray"}`,onClick:r,children:a})}function _(a){try{return new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return a}}export{R as default};
