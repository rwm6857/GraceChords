import{Y as b,r as o,p as v,j as e,as as N,L as T}from"./index-Cs553wRZ.js";import g from"./resources-CDb59xbQ.js";import{p as R,m as C,a as E}from"./markdown-CnzcVNz0.js";const x="https://gracechords.com",G=`${x}/favicon.ico`;function U(){const{slug:a}=b(),[c,j]=o.useState(""),[s,f]=o.useState({}),n=o.useMemo(()=>(g?.items||[]).find(t=>t.slug===a),[a]),[p,S]=o.useState("");o.useEffect(()=>{let t=!1;return(async()=>{try{const r=await fetch(v(`resources/${a}.md`));if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);const i=await r.text();if(t)return;const m=R(i);j(m.content||""),f({...m.meta})}catch(r){S(String(r?.message||r))}})(),()=>{t=!0}},[a]);const w=o.useMemo(()=>C(c),[c]),h=o.useMemo(()=>{const t=new Set(s.tags||n?.tags||[]);return(g?.items||[]).filter(i=>i.slug!==a&&i.tags?.some(m=>t.has(m))).slice(0,3)},[a,s,n]),l=s.title||n?.title||a,d=o.useMemo(()=>{const t=s.summary||n?.summary;if(t)return t;const r=E(c);return r.length>220?`${r.slice(0,220).trim()}…`:r||"GraceChords resource article."},[s,n,c]),u=`${x}/resources/${encodeURIComponent(a||"")}`;return e.jsxs("div",{className:"container",children:[e.jsxs(N,{children:[e.jsx("title",{children:l?`${l} | GraceChords Resources`:"GraceChords Resources"}),e.jsx("meta",{name:"description",content:d}),e.jsx("meta",{property:"og:type",content:"article"}),e.jsx("meta",{property:"og:title",content:l||"GraceChords Resources"}),e.jsx("meta",{property:"og:description",content:d}),e.jsx("meta",{property:"og:url",content:u}),e.jsx("meta",{property:"og:site_name",content:"GraceChords"}),e.jsx("meta",{property:"og:image",content:G}),e.jsx("link",{rel:"canonical",href:u}),s.tags?.length?e.jsx("meta",{name:"keywords",content:s.tags.join(", ")}):null,e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Article",headline:l,description:d,author:s.author||n?.author||"GraceChords",datePublished:s.date||n?.date,dateModified:s.date||n?.date,url:u})})]}),p?e.jsx("div",{className:"alert error",children:p}):null,e.jsxs("article",{className:"card",style:{padding:12},children:[e.jsx("h1",{style:{margin:"4px 0",fontSize:"2.25rem",lineHeight:1.15},children:l}),e.jsxs("div",{className:"Small",style:{opacity:.8},children:["by ",s.author||n?.author||"—"," • ",y(s.date||n?.date)]}),Array.isArray(s.tags)&&s.tags.length?e.jsx("div",{className:"Small",style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:6},children:s.tags.map(t=>e.jsx("span",{className:"gc-tag gc-tag--gray",children:t},t))}):null,e.jsx("div",{className:"PostBody",style:{marginTop:12},dangerouslySetInnerHTML:{__html:w}})]}),h.length?e.jsxs("div",{style:{marginTop:12},children:[e.jsx("h3",{children:"Related"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12},children:h.map(t=>e.jsxs("article",{className:"card",style:{padding:12},children:[e.jsx("h4",{style:{margin:"4px 0"},children:e.jsx(T,{to:`/resources/${t.slug}`,children:t.title})}),e.jsxs("div",{className:"Small",style:{opacity:.8},children:["by ",t.author," • ",y(t.date)]}),t.summary?e.jsx("p",{style:{margin:"6px 0 0 0"},children:t.summary}):null]},t.slug))})]}):null,e.jsx("div",{className:"Small",style:{marginTop:16,opacity:.8},children:"Scripture quotations are from The ESV® Bible (The Holy Bible, English Standard Version®), copyright © 2001 by Crossway Bibles, a publishing ministry of Good News Publishers. Used by permission. All rights reserved."})]})}function y(a){try{return new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return a}}export{U as default};
